(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(10),i=n.n(s),a=n(5),r=(n(16),n(3)),o=(n(17),n(2)),j=(n(9),n(0));function l(e){var t=e.setUser,n=e.setIsAuthenticated,s=Object(c.useState)(""),i=Object(r.a)(s,2),a=i[0],l=i[1],u=Object(c.useState)(""),d=Object(r.a)(u,2),b=d[0],h=d[1],O=Object(c.useState)([]),p=Object(r.a)(O,2),m=p[0],x=p[1],f=Object(o.f)();return Object(j.jsx)("div",{className:"container1",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={username:a,password:b};fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){e.ok?e.json().then((function(e){t(e),n(!0),f("/home")})):e.json().then((function(e){return x(e.error)}))}))},className:"form",children:[Object(j.jsxs)("div",{className:"container1",children:[Object(j.jsx)("div",{className:"container4",children:Object(j.jsx)("h3",{className:"login-h3",children:"Login"})}),Object(j.jsx)("input",{type:"text",value:a,onChange:function(e){return l(e.target.value)},placeholder:"username",name:"uname"}),Object(j.jsx)("input",{type:"password",value:b,onChange:function(e){return h(e.target.value)},placeholder:"password",name:"pwd"}),Object(j.jsx)("div",{className:"container2",children:Object(j.jsx)("button",{type:"submit",children:"Login"})})]}),Object(j.jsx)("div",{className:"container3",children:m?Object(j.jsx)("div",{children:m}):null})]})})}function u(e){var t=e.setUser,n=e.setIsAuthenticated,s=Object(c.useState)(""),i=Object(r.a)(s,2),a=i[0],l=i[1],u=Object(c.useState)(""),d=Object(r.a)(u,2),b=d[0],h=d[1],O=Object(c.useState)(""),p=Object(r.a)(O,2),m=p[0],x=p[1],f=Object(c.useState)(""),g=Object(r.a)(f,2),v=g[0],y=g[1],N=Object(c.useState)(""),S=Object(r.a)(N,2),A=S[0],C=S[1],k=Object(c.useState)([]),w=Object(r.a)(k,2),D=w[0],F=w[1],P=Object(o.f)();return Object(j.jsxs)("div",{children:[Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault();var c={first_name:a,last_name:b,username:m,password:v,password_confirmation:A};fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){e.ok?e.json().then((function(e){t(e),n(!0),P("/home")})):e.json().then((function(e){return F(Object.entries(e.error))}))}))},className:"form",children:Object(j.jsxs)("div",{className:"container1",children:[Object(j.jsx)("div",{className:"container4",children:Object(j.jsx)("h3",{className:"login-h3",children:"Signup"})}),Object(j.jsx)("input",{type:"text",id:"firstname",placeholder:"First Name",value:a,onChange:function(e){return l(e.target.value)}}),Object(j.jsx)("input",{type:"text",id:"lastname",placeholder:"Last Name",value:b,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("input",{type:"text",id:"username",placeholder:"Username",value:m,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("input",{type:"password",id:"password",placeholder:"Choose a password",value:v,onChange:function(e){return y(e.target.value)}}),Object(j.jsx)("input",{type:"password",id:"password_confirmation",placeholder:"Confirm password",value:A,onChange:function(e){return C(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Sign up"})]})}),D?D.map((function(e){return Object(j.jsx)("div",{children:e[1]},e)})):null]})}function d(e){var t=e.setUser,n=e.setIsAuthenticated,s=Object(c.useState)(!0),i=Object(r.a)(s,2),a=i[0],o=i[1];return Object(j.jsx)("div",{className:"login-signup-toggle",children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{setUser:t,setIsAuthenticated:n}),Object(j.jsx)("div",{className:"login-signup-toggle",children:Object(j.jsxs)("p",{className:"login-signup-toggle",children:["No Account?",Object(j.jsx)("button",{className:"front-page-toggle",onClick:function(){return o(!1)},children:"Sign up"})]})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{setUser:t,setIsAuthenticated:n}),Object(j.jsx)("div",{className:"login-signup-toggle",children:Object(j.jsxs)("p",{className:"login-signup-toggle",children:["Already have an account?",Object(j.jsx)("button",{className:"front-page-toggle",onClick:function(){return o(!0)},children:"Log In"})]})})]})})}n(19);function b(e){var t=e.setIsAuthenticated,n=e.user,c=e.setUser;return Object(j.jsx)("header",{children:Object(j.jsx)("div",{className:"topnav",children:Object(j.jsxs)("nav",{children:[Object(j.jsx)(a.b,{to:"/home",children:"Home"}),Object(j.jsx)(a.b,{to:"/about",children:"About"}),Object(j.jsx)(a.b,{to:"/makeappointment",children:"Make Appointment"}),Object(j.jsxs)(a.b,{to:"/appointments",children:[n?n.first_name:null,"'s Appointments"]}),Object(j.jsx)(a.b,{to:"/",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(){c(null),t(!1)}))},children:"Logout"})]})})})}n(20);function h(e){var t=e.user;return console.log(t),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h3",{children:["Hello ",t?t.first_name:null,"! Welcome to Pickadoc"]}),Object(j.jsx)("div",{className:"div6",children:"Find the doctor who's right for you, when and where you need it. The best doctors in your area are included here."})]})}n(21);function O(){return Object(j.jsx)("h3",{className:"div2",children:"Pickadoc"})}n(22);var p=function(e){var t=e.appointment,n=e.setAppointments,s=e.appointments,i=Object(c.useState)(!0),a=Object(r.a)(i,2),o=a[0],l=a[1],u=Object(c.useState)(""),d=Object(r.a)(u,2),b=d[0],h=d[1],O=Object(c.useState)(""),p=Object(r.a)(O,2),m=p[0],x=p[1],f=Object(c.useState)([]),g=Object(r.a)(f,2),v=g[0],y=g[1];function N(){l(!o),y([])}return Object(j.jsx)("div",{className:"apt-div",children:Object(j.jsxs)("li",{className:"card",children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:Object(j.jsxs)("h2",{children:["Appointment with Dr. ",t.doctor.name,":"]})})}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Date:"})}),"  ",t.date]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Time:"})}),"  ",t.time]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Field:"})}),"  ",t.doctor.field]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Address:"})}),"  ",t.doctor.address]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Phone Number:"})})," ",t.doctor.number]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Rating:"})})," ",t.doctor.rating," / 5"]}),o?Object(j.jsx)("div",{className:"button",children:Object(j.jsx)("button",{onClick:N,children:"Edit Appointment"})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={time:b,date:m};fetch("/appointments/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){e.ok?e.json().then((function(e){console.log(e);var c=s.map((function(n){return n.id===t.id?e:n}));n(c),h(""),x("")})):e.json().then((function(e){return y(Object.entries(e.errors))}))}))},className:"apt-form",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"date",id:"date",placeholder:"Select Date",value:m,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("input",{type:"time",min:"08:00",max:"18:00",step:"1800",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",children:" Confirm Updated Details"})]}),Object(j.jsx)("button",{onClick:function(){fetch("/appointments/".concat(t.id),{method:"DELETE"}).then((function(e){return e})).then((function(){var e=s.filter((function(e){return e.id!==t.id}));n(e)}))},children:"Cancel Appointment"}),Object(j.jsx)("button",{onClick:N,children:"Go Back"})]}),v?v.map((function(e){return Object(j.jsx)("div",{children:e[1]},e)})):null]})})};var m=function(e){var t=e.user,n=e.appointments,c=e.setAppointments;return Object(j.jsx)("div",{className:"appt-cont",children:t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h1",{children:[t.first_name,"'s Appointments"]}),Object(j.jsxs)("h3",{children:["Below is a list of your current doctor appointments. ",Object(j.jsx)("br",{}),"  Update any appointment information prior to the appointment date ",Object(j.jsx)("br",{})," or cancel if need be. "]}),Object(j.jsx)("ul",{className:"cards",children:n.map((function(e){return Object(j.jsx)(p,{user:t,appointment:e,setAppointments:c,appointments:n},e.id)}))})]}):null})};n(23),n(24);var x=function(e){var t=e.docField,n=e.handleField;return Object(j.jsx)("div",{className:"filter",children:Object(j.jsxs)("select",{name:"filter",value:t,onChange:function(e){return n(e.target.value)},children:[Object(j.jsx)("option",{value:"All",children:"Filter By Field"}),["Allergy and Immunology","Anesthesiology","Dermatology","Diagnostic Radiology","Emergency Medicine","Family Medicine","Internal Medicine","Medical Genetics","Neurology","Nuclear Medicine","Obstetrics and Gynecology","Ophthalmology","Pathology","Pediatrics","Physical Medicine and Rehabilitation","Preventive Medicine","Psychiatry","Radiation Oncology","Surgery","Urology"].map((function(e){return Object(j.jsx)("option",{value:e,children:e})}))]})})},f=n(11);n(25);var g=function(e){var t=e.doctor,n=(e.user,e.appointments),s=e.setAppointments,i=Object(c.useState)(!0),a=Object(r.a)(i,2),o=a[0],l=a[1],u=Object(c.useState)(""),d=Object(r.a)(u,2),b=d[0],h=d[1],O=Object(c.useState)(""),p=Object(r.a)(O,2),m=p[0],x=p[1],g=Object(c.useState)([]),v=Object(r.a)(g,2),y=v[0],N=v[1];function S(){l(!o)}return Object(j.jsx)("div",{className:"apt-div",children:Object(j.jsxs)("li",{className:"card",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Name:"})}),"  ",t.name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Field:"})}),"  ",t.field]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Address:"})}),"  ",t.address]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Phone Number:"})})," ",t.number]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:Object(j.jsx)("u",{children:"Rating:"})})," ",t.rating," / 5"]}),o?Object(j.jsx)("div",{className:"button",children:Object(j.jsx)("button",{onClick:S,children:"Make An Appointment"})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=t.id,i={time:b,date:m,doctor_id:c};fetch("/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){e.ok?e.json().then((function(e){console.log(e),console.log(n),s([e].concat(Object(f.a)(n)))})):e.json().then((function(e){return N(Object.entries(e.errors))}))}))},className:"apt-form",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"date",id:"date",placeholder:"Select Date",value:m,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("input",{type:"time",min:"08:00",max:"18:00",step:"1800",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",children:" Confirm"})]}),Object(j.jsx)("button",{onClick:S,children:"Go Back"})]}),y?y.map((function(e){return Object(j.jsx)("div",{children:e[1]},e)})):null]})})};var v=function(e){var t=e.user,n=e.doctors,s=e.appointments,i=e.setAppointments,a=Object(c.useState)("All"),o=Object(r.a)(a,2),l=o[0],u=o[1],d=n.filter((function(e){return"All"===l||e.field===l}));return console.log(d),Object(j.jsxs)("div",{className:"appt-cont",children:[Object(j.jsx)("h1",{children:"Make Appointment"}),Object(j.jsx)("h3",{children:"Please Select a Doctor and the Details of your Appointment"}),Object(j.jsx)(x,{docField:l,handleField:function(e){u(e)}}),Object(j.jsx)("ul",{className:"cards",children:d.map((function(e){return Object(j.jsx)(g,{doctor:e,user:t,appointments:s,setAppointments:i},e.id)}))})]})};var y=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(null),a=Object(r.a)(i,2),l=a[0],u=a[1],p=Object(c.useState)([]),x=Object(r.a)(p,2),f=x[0],g=x[1],y=Object(c.useState)([]),N=Object(r.a)(y,2),S=N[0],A=N[1];return Object(c.useEffect)((function(){fetch("/authorized_user").then((function(e){e.ok&&e.json().then((function(e){s(!0),u(e)}))})),fetch("/doctors").then((function(e){e.ok&&e.json().then((function(e){g(e)}))})),fetch("/appointments").then((function(e){e.ok&&e.json().then((function(e){A(e)}))}))}),[n]),n?Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(b,{setUser:u,setIsAuthenticated:s,user:l}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/about",element:Object(j.jsx)(O,{})}),Object(j.jsx)(o.a,{path:"/home",element:Object(j.jsx)(h,{user:l})}),Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(h,{})}),Object(j.jsx)(o.a,{path:"/login",element:Object(j.jsx)(d,{})}),Object(j.jsx)(o.a,{path:"/appointments",element:Object(j.jsx)(m,{user:l,appointments:S,setAppointments:A})}),Object(j.jsx)(o.a,{path:"/makeappointment",element:Object(j.jsx)(v,{user:l,doctors:f,appointments:S,setAppointments:A})})]})]}):Object(j.jsx)(d,{error:"Please Login",setUser:u,setIsAuthenticated:s})};i.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.1076c674.chunk.js.map